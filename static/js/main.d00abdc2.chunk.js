(this["webpackJsonpcard-game"]=this["webpackJsonpcard-game"]||[]).push([[0],{27:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t(9),c=t.n(r),i=t(3),d=t(16),s=t(6),o=t.n(s),u=t(17),l=t(2);function O(e){for(var a=e,t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[n];e[n]=e[t],e[t]=r}return a}var m="SET_CARD_OPEN",j="SET_LOCAL_TIMER",p="ADD_CARD_TO_OPEN_CARDS",_="CLOSE_ALL_CARDS",b="TOOGLE_BLOCKED_INTERFACE",v="TOOGLE_GAME_STARTED",f="ADD_CARD_TO_GUESSED_CARD",h="SET_TIMER_ID",y="SET_INTERVAL_ID",B="RESET_GAME",T="SET_GAME_TIME",E={gameTimer:0,isInterfaceBlocked:!1,openedCards:[],cardsGuessed:0,isGameStart:!1,isLocalTimer:!1,timerId:void 0,intervalId:void 0,cards:[{id:1,isOpen:!1,value:"\u043a\u043e\u0442",isOnBoard:!0},{id:2,isOpen:!1,value:"\u043a\u043e\u0442",isOnBoard:!0},{id:3,isOpen:!1,value:"\u043f\u0451\u0441",isOnBoard:!0},{id:4,isOpen:!1,value:"\u043f\u0451\u0441",isOnBoard:!0},{id:5,isOpen:!1,value:"\u0440\u044b\u0431\u0430",isOnBoard:!0},{id:6,isOpen:!1,value:"\u0440\u044b\u0431\u0430",isOnBoard:!0},{id:7,isOpen:!1,value:"\u0434\u0438\u043d\u043e\u0437\u0430\u0432\u0440",isOnBoard:!0},{id:8,isOpen:!1,value:"\u0434\u0438\u043d\u043e\u0437\u0430\u0432\u0440",isOnBoard:!0},{id:9,isOpen:!1,value:"\u043c\u044b\u0448\u044c",isOnBoard:!0},{id:10,isOpen:!1,value:"\u043c\u044b\u0448\u044c",isOnBoard:!0},{id:11,isOpen:!1,value:"\u043f\u0442\u0438\u0446\u0430",isOnBoard:!0},{id:12,isOpen:!1,value:"\u043f\u0442\u0438\u0446\u0430",isOnBoard:!0},{id:13,isOpen:!1,value:"\u0437\u043c\u0435\u044f",isOnBoard:!0},{id:14,isOpen:!1,value:"\u0437\u043c\u0435\u044f",isOnBoard:!0},{id:15,isOpen:!1,value:"\u0447\u0435\u043b\u043e\u0432\u0435\u043a",isOnBoard:!0},{id:16,isOpen:!1,value:"\u0447\u0435\u043b\u043e\u0432\u0435\u043a",isOnBoard:!0}]};var x=function(e){return{type:j,payload:e}},N=function(){return{type:_}},S=function(e){return{type:b,payload:e}},G=function(e){return{type:v,payload:e}},I=function(e,a){return function(t){t(S(!0)),setTimeout((function(){t(function(e,a){return{type:f,payload:[e,a]}}(e,a)),t(S(!1))}),1e3)}},C=function(e,a){return function(t,n){t(function(e){return{type:m,payload:e}}(e));var r=n().mainReducer,c=r.openedCards,i=r.isLocalTimer,d=r.cardsGuessed;if(!i){t(x(!0));var s=setTimeout((function(){t(x(!1)),t(N())}),3e3);t(function(e){return{type:h,payload:e}}(s))}1===c.length?(c[0].value===a&&(t(I(c[0].id,e)),14===d&&t((function(e,a){var t=a().mainReducer,n=t.intervalId,r=t.gameTimer;e(G(!1)),clearInterval(n);var c=JSON.parse(localStorage.getItem("times"))||[];c.push(r),localStorage.setItem("times",JSON.stringify(c))}))),t((function(e){e(S(!0)),setTimeout((function(){e(N()),e(S(!1))}),1e3)})),t(x(!1)),window.clearTimeout(n().mainReducer.timerId)):t({type:p,payload:{id:e,value:a}})}},g=function(){return function(e,a){e(G(!0)),e({type:B});var t=a().mainReducer.gameTimer,n=setInterval((function(){t++,e({type:T,payload:t})}),1e3);e({type:y,payload:n})}};function R(e){return e<=9?"00:0".concat(e):e>9&&e<60?"00:".concat(e):e>=60?"0".concat(Math.floor(e/60),":").concat(e%60<9?"0"+e%60:e%60):void 0}var A=t(1),D=function(){var e=Object(i.c)((function(e){return e.mainReducer})),a=e.cardsGuessed,t=e.isGameStart,n=e.gameTimer,r=Object(i.b)();return Object(A.jsxs)("div",{className:o.a.header,children:[Object(A.jsx)("div",{className:o.a.timer,children:R(n)}),Object(A.jsxs)("div",{className:o.a.counter,children:[a,Object(A.jsx)("span",{children:"/16"})]}),Object(A.jsx)("button",{disabled:t,className:"".concat(o.a.button," ").concat(t&&o.a.hide),onClick:function(){return r(g())},children:"\u0441\u0442\u0430\u0440\u0442"})]})},L=t(4),k=t.n(L),M=t(5),H=t.n(M),w=function(e){var a=e.data,t=Object(i.b)(),n=Object(i.c)((function(e){return e.mainReducer})),r=n.isInterfaceBlocked,c=n.isGameStart;return Object(A.jsxs)("button",{disabled:r||!a.isOnBoard||!c,className:"".concat(H.a.card," ").concat(a.isOpen&&H.a.active," ").concat(!a.isOnBoard&&H.a.hide," ").concat(!c&&H.a.disabled),onClick:function(){return e=a.id,n=a.value,void t(C(e,n));var e,n},children:[Object(A.jsx)("div",{className:H.a.front}),Object(A.jsx)("div",{className:H.a.back,children:a.value})]})},J=function(){var e=Object(i.c)((function(e){return e.mainReducer})),a=e.cards,t=e.isGameStart,r=Object(n.useState)([]),c=Object(d.a)(r,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("times"))||[];e.sort((function(e,a){return e-a})),o(e.slice(0,5))}),[t]),Object(A.jsxs)("div",{className:k.a.gameBoard,children:[Object(A.jsx)(D,{}),Object(A.jsx)("div",{className:"".concat(k.a.cards," ").concat(!t&&k.a.hide),children:a.map((function(e){return Object(A.jsx)(w,{data:e},e.id)}))}),Object(A.jsxs)("div",{className:"".concat(k.a.times," ").concat(t&&k.a.hide),children:[Object(A.jsx)("div",{className:k.a.times_title,children:"\u0412\u0430\u0448\u0438 \u043b\u0443\u0447\u0448\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b:"}),s.map((function(e){return Object(A.jsx)("div",{className:k.a.time,children:R(e)})}))]})]})};t(27);var P=function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)("div",{className:"container",children:Object(A.jsx)("div",{className:"inner",children:Object(A.jsx)(J,{})})})})},z=t(8),U=t(14),V=t(15),K=Object(z.combineReducers)({mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return Object(l.a)(Object(l.a)({},e),{},{cards:e.cards.map((function(e){return e.id===a.payload&&(e.isOpen=!0),e}))});case j:return Object(l.a)(Object(l.a)({},e),{},{isLocalTimer:a.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{openedCards:[].concat(Object(u.a)(e.openedCards),[a.payload])});case _:return Object(l.a)(Object(l.a)({},e),{},{cards:e.cards.map((function(e){return e.isOpen=!1,e})),openedCards:[]});case b:return Object(l.a)(Object(l.a)({},e),{},{isInterfaceBlocked:a.payload});case v:return Object(l.a)(Object(l.a)({},e),{},{isGameStart:a.payload});case f:return Object(l.a)(Object(l.a)({},e),{},{cardsGuessed:e.cardsGuessed+2,cards:e.cards.map((function(e){return a.payload.some((function(a){return a===e.id}))&&(e.isOnBoard=!1),e}))});case T:return Object(l.a)(Object(l.a)({},e),{},{gameTimer:a.payload});case h:return Object(l.a)(Object(l.a)({},e),{},{timerId:a.payload});case y:return Object(l.a)(Object(l.a)({},e),{},{intervalId:a.payload});case B:return Object(l.a)(Object(l.a)({},e),{},{cardsGuessed:0,gameTimer:0,cards:O(e.cards.map((function(e){return e.isOnBoard=!0,e})))});default:return e}}}),W=Object(z.createStore)(K,Object(U.composeWithDevTools)(Object(z.applyMiddleware)(V.a)));c.a.render(Object(A.jsx)(i.a,{store:W,children:Object(A.jsx)(P,{})}),document.getElementById("root"))},4:function(e,a,t){e.exports={gameBoard:"GameBoard_gameBoard__2HoRA",cards:"GameBoard_cards__OHGMk",hide:"GameBoard_hide__Vz8U3",times:"GameBoard_times__1nbuX",times_title:"GameBoard_times_title__2NQh1"}},5:function(e,a,t){e.exports={card:"Card_card__UZPyI",hide:"Card_hide__3Dw17",disabled:"Card_disabled__3Dj_N",front:"Card_front__16u2A",back:"Card_back__VohHJ",active:"Card_active__3N7jW"}},6:function(e,a,t){e.exports={header:"Header_header__8xXYP",counter:"Header_counter__cKzG-",timer:"Header_timer__2aITj",button:"Header_button__1sL24",hide:"Header_hide__1s8zf"}}},[[28,1,2]]]);
//# sourceMappingURL=main.d00abdc2.chunk.js.map